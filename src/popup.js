//var data = JSON.parse('{"appcache":{"count":0},"cache":{"count":75,"entries":[{"path":"https://www.nytimes.com/vi-assets/static-assets/shared-woff2.fonts-22b34a6a6fd840943496b658184afdd3.css","size":747129},{"path":"https://clients2.google.com/gr/gr_full_2.0.6.js","size":13277},{"path":"https://cdn.optimizely.com/public/3013110282/s/vi_article.js","size":180200},{"path":"https://news.google.com/swg/js/v1/swg-button.css","size":15651},{"path":"https://news.google.com/swg/js/v1/loader.svg","size":5669},{"path":"https://cigsvc.nytimes.com/r1/jp/ip_seg_v2.rep?&callback=callback","size":6118},{"path":"https://news.google.com/swg/js/v1/swg.js","size":34189},{"path":"https://www.nytimes.com/vi-assets/static-assets/home-84b6d4e4c01662e693c8.js","size":114865},{"path":"https://www.nytimes.com/vi-assets/static-assets/main-640c28b3ced879e7fd88.js","size":97852},{"path":"https://www.nytimes.com/vi-assets/static-assets/vendor-305f969a3a3413e756c1.js","size":207187},{"path":"https://www.nytimes.com/","size":122968},{"path":"https://static01.nyt.com/images/2018/09/13/opinion/michelle-alexander/michelle-alexander-thumbLarge-v2.png?quality=75&auto=webp&disable=upscale","size":25438},{"path":"https://static01.nyt.com/images/2018/04/03/opinion/ross-douthat/ross-douthat-thumbLarge.png?quality=75&auto=webp&disable=upscale","size":27216},{"path":"https://static01.nyt.com/images/2018/04/02/opinion/maureen-dowd/maureen-dowd-thumbLarge.png?quality=75&auto=webp&disable=upscale","size":32658},{"path":"https://static01.nyt.com/images/2019/01/20/opinion/18ZIA02/18ZIA02-square640.jpg?quality=75&auto=webp&disable=upscale&width=350","size":25196},{"path":"https://static01.nyt.com/images/2018/05/04/opinion/pamela-druckerman-circle/pamela-druckerman-circle-thumbLarge.png?quality=75&auto=webp&disable=upscale","size":26586},{"path":"https://static01.nyt.com/images/2018/10/09/homepage/mini-utility/mini-utility-square640-v2.png?quality=75&auto=webp&disable=upscale&width=350","size":7108},{"path":"https://static01.nyt.com/images/2018/11/05/homepage/neediest-cases-logo/neediest-cases-logo-square640.png?quality=75&auto=webp&disable=upscale&width=350","size":15728},{"path":"https://static01.nyt.com/images/2017/01/29/podcasts/the-daily-album-art/the-daily-album-art-square640-v4.jpg?quality=75&auto=webp&disable=upscale&width=350","size":7884},{"path":"https://www.nytimes.com/vi-assets/static-assets/main-f63a462dced84fb501c229c2ba494f82.css","size":19364},{"path":"https://www.nytimes.com/vi-assets/static-assets/global-a2de946a9a0e78407da4b3405271f391.css","size":8660},{"path":"https://dev-assets-client.avastbrowser.com/newtab-serviceworker.js","size":3984},{"path":"https://suggestqueries.google.com/complete/search?client=chrome&q=www.ny&callback=","size":4903},{"path":"https://suggestqueries.google.com/complete/search?client=chrome&q=www.n&callback=","size":4938},{"path":"https://suggestqueries.google.com/complete/search?client=chrome&q=www.&callback=","size":4967},{"path":"https://suggestqueries.google.com/complete/search?client=chrome&q=www&callback=","size":4985},{"path":"https://ip-info.ff.avast.com/v1/info","size":4784},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_single.html?rtl=undefined&title=Most%20visited&removeTooltip=Don%27t%20show%20on%20this%20page&enableMD=1&enableCustomLinks=1&addLink=undefined&addLinkTooltip=Add%20shortcut&editLinkTooltip=Edit%20shortcut","size":3579},{"path":"https://suggestqueries.google.com/complete/search?client=chrome&q=ww&callback=","size":4919},{"path":"https://suggestqueries.google.com/complete/search?client=chrome&q=w&callback=","size":4894},{"path":"https://clients1.google.com/tbproxy/af/query?q=Chc2LjEuMTcxNS4xNDQyL2VuIChHR0xMKRMZV8LWH3NpDnIjLXYLhAlCDWZha2Vib3gtaW5wdXRKBHRleHQkFA==","size":4529},{"path":"https://dev-assets-client.avastbrowser.com/js/v1.54f939ec.chunk.js.map","size":2116908},{"path":"https://dev-assets-client.avastbrowser.com/js/legacy.f4613e21.chunk.js.map","size":1369424},{"path":"https://dev-assets-client.avastbrowser.com/js/newtab.js.map","size":287435},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_single.js.map","size":104391},{"path":"https://dev-assets-client.avastbrowser.com/js/legacy-styles.ff67633e.chunk.js.map","size":6550},{"path":"https://dev-assets-client.avastbrowser.com/asset-manifest.json","size":3628},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_thumbnail.html","size":3542},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_single.html","size":3584},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_title.html","size":3527},{"path":"https://dev-assets-client.avastbrowser.com/favicon.ico","size":3636},{"path":"https://dev-assets-client.avastbrowser.com/css/newtab.css.map","size":3515},{"path":"https://dev-assets-client.avastbrowser.com/ntp.html","size":4063},{"path":"https://dev-assets-client.avastbrowser.com/js/newtab-legacy.js.map","size":9893},{"path":"https://dev-assets-client.avastbrowser.com/js/v1.54f939ec.chunk.js","size":121653},{"path":"https://dev-assets-client.avastbrowser.com/js/legacy.f4613e21.chunk.js","size":63648},{"path":"https://dev-assets-client.avastbrowser.com/default_doodle.png","size":73572},{"path":"https://dev-assets-client.avastbrowser.com/js/newtab.js","size":16431},{"path":"https://dev-assets-client.avastbrowser.com/googlemic_clr_24px.svg","size":3891},{"path":"https://dev-assets-client.avastbrowser.com/js/newtab-legacy.js","size":3974},{"path":"https://dev-assets-client.avastbrowser.com/css/newtab-legacy.css","size":3560},{"path":"https://dev-assets-client.avastbrowser.com/css/newtab.css","size":3602},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_iframe.css","size":3824},{"path":"https://dev-assets-client.avastbrowser.com/js/legacy-styles.ff67633e.chunk.js","size":3841},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_title.css","size":3893},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_thumbnail.css","size":4001},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_thumbnail.js","size":4083},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_util.js","size":4980},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_title.js","size":3768},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_single.js","size":8229},{"path":"https://dev-assets-client.avastbrowser.com/ntp_search.css","size":3971},{"path":"https://dev-assets-client.avastbrowser.com/most_visited_single.css","size":6832},{"path":"https://dev-assets-client.avastbrowser.com/ntp.css","size":9734},{"path":"https://dev-assets-client.avastbrowser.com/ntp.js","size":11135},{"path":"https://dev-assets-client.avastbrowser.com/voice.js","size":8523},{"path":"https://dev-assets-client.avastbrowser.com/voice.css","size":6615},{"path":"https://dev-assets-client.avastbrowser.com/ntp_search.js","size":5440},{"path":"https://dev-assets-client.avastbrowser.com/instant_iframe_validation.js","size":3914},{"path":"https://dev-assets-client.avastbrowser.com/workbox-v4.0.0-beta.0/workbox-cache-expiration.prod.js","size":4846},{"path":"https://dev-assets-client.avastbrowser.com/workbox-v4.0.0-beta.0/workbox-strategies.prod.js","size":4754},{"path":"https://dev-assets-client.avastbrowser.com/workbox-v4.0.0-beta.0/workbox-routing.prod.js","size":4998},{"path":"https://dev-assets-client.avastbrowser.com/workbox-v4.0.0-beta.0/workbox-core.prod.js","size":6308},{"path":"https://dev-assets-client.avastbrowser.com/workbox-v4.0.0-beta.0/workbox-precaching.prod.js","size":5771},{"path":"https://dev-assets-client.avastbrowser.com/precache-manifest.f2df58168d3aa24786389167a9cc013d.js","size":4558},{"path":"https://dev-assets-client.avastbrowser.com/workbox-v4.0.0-beta.0/workbox-sw.js","size":4387}]},"cacheStorage":{"count":1,"entries":[{"path":"https://dev-assets-client.avastbrowser.com/","size":5674496}]},"downloads":{"count":0},"fileSystems":{"count":0},"formData":{"count":0},"history":{"count":2,"entries":[{"path":"http://www.nytimes.com/","size":0},{"path":"https://www.nytimes.com/","size":0}]},"indexedDB":{"count":1,"entries":[{"path":"https://dev-assets-client.avastbrowser.com/","size":16360}]},"localStorage":{"count":1,"entries":[{"path":"https://dev-assets-client.avastbrowser.com/","size":28}]},"passwords":{"count":0},"serverBoundCertificates":{"count":0},"serviceWorkers":{"count":1,"entries":[{"path":"https://dev-assets-client.avastbrowser.com/","size":28723}]},"webSQL":{"count":0}}');


chrome.storage.sync.get({
    specificDomainData:''
}, function(changes){


    var newData = changes.specificDomainData;
    
    labelArray = []
    valueArray = []
    
    for (k = 0; k < newData.length; k++) {
        labelArray.push(newData[k][0])
        valueArray.push(Math.log(newData[k][1]))
    }

    document.getElementById('prominentDomain').textContent = labelArray[0];
    document.getElementById('cacheSize').innerHTML = Math.floor((Math.random() * 100) + 1) + 100;
    
    var ctx = document.getElementById('myChart2').getContext('2d');
    var chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'horizontalBar',

        // The data for our dataset
        data: {
            labels: labelArray,
            datasets: [{
                label: "Relative Size of Cookies Removed",
                backgroundColor: 'rgb(255, 165, 0)',
                borderColor: 'rgb(255, 165, 0)',
                data: valueArray, 
            }]
        },

        // Configuration options go here
        options: {
            scales:{
                yAxes: [{
                    display: false //this will remove all the x-axis grid lines
                }],
                //xAxes: [{
                //    display: true,
                //    ticks: {
                //        suggestedMin: 0,    // minimum will be 0, unless there is a lower value.
                //    }
                //}]
            }}
    });


    var getLocation = function(href) {
        var l = document.createElement("a");
        l.href = href;
        return l;
    };

    var l = getLocation("http://example.com/path").hostname;
            
})


